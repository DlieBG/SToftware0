<!DOCTYPE html>
  <html>
    <head>
      <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="../css/materialize.min.css"  media="screen,projection"/>

      <style>
       body {
          display: flex;
          min-height: 100vh;
          flex-direction: column;
        }

        main {
          flex: 1 0 auto;
        }
      </style>

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    </head>

    <body>
      <!--Import jQuery before materialize.js-->
      <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>


      <script>
        window.onload=function startWetter()
        {
          var url = document.URL;
	        var ort = url.split("?")[1];

          var wetter = JSON.parse(Get('http://api.openweathermap.org/data/2.5/weather?q='+ort+'&appid=74417775c0e693184d7b7554d256f7b7&units=metric&lang=de'));
        
          document.getElementById("wetterbild").src="http://openweathermap.org/img/w/"+wetter.weather[0].icon+".png";
          document.getElementById("temperatur").innerHTML=wetter.main.temp+" &deg;C";
          document.getElementById("beschreibung").innerHTML=wetter.weather[0].description;
        //	document.getElementById("wind").innerHTML=wetter.wind.speed+" <sup>m</sup>/<sub>s</sub>";
          document.getElementById("wolken").innerHTML=wetter.clouds.all+" %";
                document.getElementById("feuchtigkeit").innerHTML=wetter.main.humidity+" %";
          window.setInterval("startWetter()", 60000);

          document.getElementById("titel").innerHTML = "Wetter "+ort;
        }
        
        function Get(yourUrl)
        {
          var Httpreq = new XMLHttpRequest(); // a new request
          Httpreq.open("GET",yourUrl,false);
          Httpreq.send(null);
          return Httpreq.responseText;          
        }
        </script>

        <div class="row">
          <div class="col s12 m12">
            <div class="card">
              <div class="card-content">
                <span class="card-title" id="titel">Wetter</span>
        
        <div onload="startWetter();" data-role="page" id="Wetter" data-dialog="true">
        <table>
        <tr><td><img id="wetterbild"></img></td><td>
        <table>
        <tr><td>Temperatur:</td><td id="temperatur"></td></tr>
        <tr><td>Info:</td><td id="beschreibung"></td></tr>
        <tr><td>Feuchtigkeit:</td><td id="feuchtigkeit"></td></tr>
        <tr><td>Bew√∂lkung:</td><td id="wolken"></td></tr>
        </table>
        </tr>
        </table>
        </div>
        </div>

              </div>
            </div>
          </div>
        </div>

    <script type="text/javascript" src="../js/materialize.js"></script>
    <script type="text/javascript" src="../js/materialize.min.js"></script>
    </body>
  </html>
